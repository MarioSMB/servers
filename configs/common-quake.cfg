// General settings for all Quake servers

exec configs/common.cfg

// No map lists, so we need to modify the standard alias to avoid warnings
alias update_server "fs_rescan"

skill 1
coop 1
deathmatch 0
timelimit 2880
quit_when_empty 1

sv_maxidle 180
sv_maxidle_minplayers 1

// fixes some very long loading maps
net_messagetimeout 60
net_connecttimeout 60

// need this hack to fix collision when playing target quake sadly
alias fixcol "mod_q1bsp_polygoncollisions 1"
alias mapmsg "say ^7Beginning ^3${* ?} ^7bonus mission"
alias mapchange "fixcol; skill 0; defer 2 \"chmap ${* ?}\""
alias addpack "alias $1 \"mapchange $2; mapmsg ${3-}\""

addpack contract kstart Contract Revoked
addpack terra terrastart Terra
addpack coldlight addy_cl_start Cold Light
addpack tiddles tidstart Realm of Tiddles
addpack insomnia czg07 Insomnia
addpack dmd dmdstart Deathmatch Dimension
addpack koohoo rj7_start Koohoo Jam
addpack digs digs04 The Parallel Worlds
addpack ikspq ikstart IKSPQ
addpack egypt sul0 Egypt
addpack unused ujstart Unused Jam
addpack dm4jam dm4start DM4 Jam
addpack library libstart Library Pack
addpack gotshun gotstart Gotshun Lost Levels
addpack extrahub hub2 Extras Hub
addpack slipseer solstart Slipseer Pack

alias returntohub "defer 2 \"fixcol; chmap quake\"; say ^7Returning to Mission HQ"
alias easy "skill 0; say ^3Difficulty set to ^2EASY"
alias normal "skill 1; say ^3Difficulty set to ^4NORMAL"
alias hard "skill 2; say ^3Difficulty set to ^1HARD"
alias nightmare "skill 3; say ^3Difficulty set to ^6NIGHTMARE"

alias givecheats "prvm_edictset server $1 maycheat 1"

//sv_vote_majority_factor 1
//sv_vote_majority_factor_of_voted 0
sv_vote_timeout 60
sv_vote_commands "returntohub restart easy normal hard nightmare"
