// Custom aliases for SMB USA

alias temp_gameend_hooks

// Voting system
alias nobots "settemp minplayers 0; bot_number 0; say ^2Bots disabled for this match"
alias bots "settemp minplayers 2; say ^2Extra bots enabled for this match"
alias botskill "skill ${* ?}; say ^2Bot skill set to ${* ?}"
alias fs_restart "fs_rescan; restart"
alias delvote "removefromlist sv_vote_commands ${* ?}"
alias rmvote "delvote ${* ?}"
alias votable_alias "addvote ${1}; alias ${* ?}"
alias vmsg_nextmatch "say ^3${* ?} ^2will be active in the next match"
alias vmsg "say ^2To turn $3- $1, type this in your console: ^3vcall $2"

// Special handlers for custom aliases
alias if_1 "${* ?}"
alias if_0 ""
alias ifnot_1 ""
alias ifnot_0 "${* ?}"

alias rocketminsta "settemp g_rm 1; say ^2BACON ROCKETS!!!"
alias freeze "g_freeze 2; vmsg off nofreeze freeze"
alias nofreeze "g_freeze 1; vmsg on freeze freeze"

set nonades 0

alias nades "set nonades 0; g_nades 1; say ^3Nades ^2will be enabled next match"
alias nonades "set nonades 1; g_nades 0; say ^3Nades ^2will be ^1disabled ^2next match"

alias speedcaps "settemp g_ctf_flag_return_time 0.1; settemp g_ctf_throw_punish_time 0.1; settemp minplayers 0; fraglimit 30; timelimit 50; say ^2Speedcaps enabled for this match"

alias late_votes "settemp sv_vote_commands \"${votes_late}\""

alias sv_hook_gameend "sv_vote_commands \"${votes_mapvote}\"; temp_gameend_hooks"
alias sv_hook_gamestart_all "minplayers 2; alias temp_gameend_hooks; sv_vote_commands \"${votes_start}\"; defer 60 late_votes"
alias sv_hook_gamestart_ctf "minplayers 2"
alias sv_hook_gamestart_dm ""

alias sv_vote_gametype_hook_all "g_campcheck 0; g_piggyback 1; g_dodging 2; ifnot_${nonades} g_nades 1"
alias sv_vote_gametype_hook_ft "g_nades 0"
alias sv_vote_gametype_hook_dm "g_nades 0"
alias sv_vote_gametype_hook_tdm "g_nades 0"
