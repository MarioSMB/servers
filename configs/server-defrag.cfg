// Compacted server configuration for SMB Defrag

exec defrag_physics.cfg

exec configs/common-smb.cfg

alias nogrunt "g_jump_grunt 0"
alias grunt "g_jump_grunt 1"

alias weapon "g_balance_machinegun_weaponstartoverride 1; restart"
alias noweapon "g_balance_machinegun_weaponstartoverride 0; restart"

sv_vote_commands "gotomap endmatch extendmatchtime reducematchtime restart nextmap cointoss novotes nogrunt grunt noweapon weapon"
rcon_restricted_commands "kickban timelimit fraglimit \"sv_cmd banlist\" unban vstop mute unmute status kick ${sv_vote_commands}"

// since this server uses multiple modes, we must define their settings here
g_cts 1
timelimit_override 60
sv_maxidle 3600
sv_maxidle_spectatorsareidle 1
sv_maxidle_movetospec 60
sv_doors_always_open 1 // probably not needed
set sv_chat_replace 0 // also not needed

// mostly mutator related stuff
g_cloaked 1
g_norecoil 1
g_playerclip_collisions 0
set g_hats 1

// make sure some custom modes stay off
set g_za 0
set g_buffs 0
set g_balance_vaporizer_primary_charge 0
g_vehicles 0
g_turrets 0
g_powerups 0
g_physics_clientselect 0
set g_instagib_extralives 0

// balance and general server options
g_chat_flood_burst 8
sv_taunt 1
sv_ready_restart 1
sv_ready_restart_after_countdown 0
g_start_delay 0
g_maplist_shuffle 0
g_maplist_selectrandom 1
g_maplist_votable_screenshot_dir "maps levelshots"
sv_autodemo_perclient 0
sv_autodemo_perclient_discardable 1 // we discard
sv_autodemo_perclient_nameformat "sv_autodemos/%Y-%m-%d_%H-%M-%S"
sv_vote_change 1
sv_vote_master 0
sv_vote_timeout 20
sv_vote_majority_factor 0.6
sv_vote_nospectators 2
set sv_allow_customplayermodels 1
